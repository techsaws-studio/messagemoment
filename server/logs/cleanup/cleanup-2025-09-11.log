{"timestamp":"2025-09-11T02:34:32.701Z","level":"INFO","operation":"INDIVIDUALLY_EXPIRED_MESSAGES","details":{"messagesDeleted":1,"cutoffTime":"2025-09-11T02:34:32.506Z"},"environment":"development"}
{"timestamp":"2025-09-11T02:34:32.891Z","level":"INFO","operation":"EXPIRED_SESSION_MESSAGES","details":{"expiredSessionsFound":1,"messagesDeleted":0,"sessionIds":["v0C2dIZdL606bN"]},"environment":"development"}
{"timestamp":"2025-09-11T02:34:32.892Z","level":"INFO","operation":"SESSION_BASED_CLEANUP_STATISTICS","details":{"statistics":{"expiredSessionMessages":0,"expiredMessages":1,"totalRemoved":1},"totalRecords":2,"executionTimeMs":386,"executionTimeSec":0},"environment":"development"}
{"timestamp":"2025-09-11T04:17:49.909Z","level":"INFO","operation":"SPECIFIC_SESSION_CLEANUP","details":{"sessionId":"Zauy1Zdcxf8Sct","messagesDeleted":5},"environment":"development"}
{"timestamp":"2025-09-11T06:23:27.258Z","level":"INFO","operation":"SPECIFIC_SESSION_CLEANUP","details":{"sessionId":"DRHDuwzyzdHOcu","messagesDeleted":75},"environment":"development"}
{"timestamp":"2025-09-11T06:34:32.704Z","level":"INFO","operation":"INDIVIDUALLY_EXPIRED_MESSAGES","details":{"messagesDeleted":5,"cutoffTime":"2025-09-11T06:34:32.509Z"},"environment":"development"}
{"timestamp":"2025-09-11T06:34:32.892Z","level":"INFO","operation":"EXPIRED_SESSION_MESSAGES","details":{"expiredSessionsFound":2,"messagesDeleted":0,"sessionIds":["Zauy1Zdcxf8Sct","DRHDuwzyzdHOcu"]},"environment":"development"}
{"timestamp":"2025-09-11T06:34:32.892Z","level":"INFO","operation":"SESSION_BASED_CLEANUP_STATISTICS","details":{"statistics":{"expiredSessionMessages":0,"expiredMessages":5,"totalRemoved":5},"totalRecords":10,"executionTimeMs":383,"executionTimeSec":0},"environment":"development"}
{"timestamp":"2025-09-11T10:34:32.708Z","level":"INFO","operation":"INDIVIDUALLY_EXPIRED_MESSAGES","details":{"messagesDeleted":0,"cutoffTime":"2025-09-11T10:34:32.509Z"},"environment":"development"}
{"timestamp":"2025-09-11T10:34:32.898Z","level":"INFO","operation":"EXPIRED_SESSION_MESSAGES","details":{"expiredSessionsFound":3,"messagesDeleted":0,"sessionIds":["Zauy1Zdcxf8Sct","DRHDuwzyzdHOcu","NX5so7M86xfM9W"]},"environment":"development"}
{"timestamp":"2025-09-11T10:34:32.899Z","level":"INFO","operation":"SESSION_BASED_CLEANUP_STATISTICS","details":{"statistics":{"expiredSessionMessages":0,"expiredMessages":0,"totalRemoved":0},"totalRecords":0,"executionTimeMs":391,"executionTimeSec":0},"environment":"development"}
{"timestamp":"2025-09-11T14:35:02.529Z","level":"ERROR","operation":"INDIVIDUALLY_EXPIRED_MESSAGES_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async Collection.deleteMany (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\collection.ts:457:12)\n    at async model.Query.exec (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:4456:63)\n    at async Function.cleanupExpiredMessages (D:\\Syed Hassan Ali\\messagemoment\\server\\services\\message-cleanup-service.ts:50:22)\n    at async Promise.all (index 1)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T14:35:02.531Z","level":"ERROR","operation":"EXPIRED_SESSION_MESSAGES_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async FindCursor._initialize (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\find_cursor.ts:92:22)\n    at async FindCursor.cursorInit (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:944:21)\n    at async FindCursor.fetchBatch (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:982:7)\n    at async FindCursor.next (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:612:9)\n    at async FindCursor.[Symbol.asyncIterator] (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:506:26)\n    at async FindCursor.toArray (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:700:22)\n    at async model.Query._find (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:2381:14)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T14:35:02.543Z","level":"ERROR","operation":"SESSION_BASED_CLEANUP_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async Collection.deleteMany (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\collection.ts:457:12)\n    at async model.Query.exec (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:4456:63)\n    at async Function.cleanupExpiredMessages (D:\\Syed Hassan Ali\\messagemoment\\server\\services\\message-cleanup-service.ts:50:22)\n    at async Promise.all (index 1)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T14:35:02.544Z","level":"ERROR","operation":"SCHEDULED_MESSAGE_CLEANUP_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async Collection.deleteMany (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\collection.ts:457:12)\n    at async model.Query.exec (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:4456:63)\n    at async Function.cleanupExpiredMessages (D:\\Syed Hassan Ali\\messagemoment\\server\\services\\message-cleanup-service.ts:50:22)\n    at async Promise.all (index 1)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T18:35:02.542Z","level":"ERROR","operation":"INDIVIDUALLY_EXPIRED_MESSAGES_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async Collection.deleteMany (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\collection.ts:457:12)\n    at async model.Query.exec (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:4456:63)\n    at async Function.cleanupExpiredMessages (D:\\Syed Hassan Ali\\messagemoment\\server\\services\\message-cleanup-service.ts:50:22)\n    at async Promise.all (index 1)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T18:35:02.542Z","level":"ERROR","operation":"EXPIRED_SESSION_MESSAGES_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async FindCursor._initialize (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\find_cursor.ts:92:22)\n    at async FindCursor.cursorInit (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:944:21)\n    at async FindCursor.fetchBatch (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:982:7)\n    at async FindCursor.next (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:612:9)\n    at async FindCursor.[Symbol.asyncIterator] (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:506:26)\n    at async FindCursor.toArray (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:700:22)\n    at async model.Query._find (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:2381:14)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T18:35:02.551Z","level":"ERROR","operation":"SESSION_BASED_CLEANUP_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async Collection.deleteMany (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\collection.ts:457:12)\n    at async model.Query.exec (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:4456:63)\n    at async Function.cleanupExpiredMessages (D:\\Syed Hassan Ali\\messagemoment\\server\\services\\message-cleanup-service.ts:50:22)\n    at async Promise.all (index 1)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T18:35:02.551Z","level":"ERROR","operation":"SCHEDULED_MESSAGE_CLEANUP_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async Collection.deleteMany (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\collection.ts:457:12)\n    at async model.Query.exec (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongoose\\lib\\query.js:4456:63)\n    at async Function.cleanupExpiredMessages (D:\\Syed Hassan Ali\\messagemoment\\server\\services\\message-cleanup-service.ts:50:22)\n    at async Promise.all (index 1)","name":"MongoServerSelectionError"}},"environment":"development"}
{"timestamp":"2025-09-11T19:00:30.036Z","level":"ERROR","operation":"SCHEDULED_DATA_RETENTION_CLEANUP_ERROR","details":{"error":{"message":"getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-nv3r2su-shard-00-02.xm4b1un.mongodb.net\n    at Topology.selectServer (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\sdam\\topology.ts:628:30)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async tryOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:201:16)\n    at async executeOperation (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\operations\\execute_operation.ts:115:12)\n    at async AggregationCursor._initialize (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\aggregation_cursor.ts:92:22)\n    at async AggregationCursor.cursorInit (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:944:21)\n    at async AggregationCursor.fetchBatch (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:982:7)\n    at async AggregationCursor.next (D:\\Syed Hassan Ali\\messagemoment\\server\\node_modules\\mongodb\\src\\cursor\\abstract_cursor.ts:612:9)","name":"MongoServerSelectionError"}},"environment":"development"}
